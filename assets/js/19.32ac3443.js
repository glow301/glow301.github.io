(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{511:function(s,t,a){"use strict";a.r(t);var e=a(6),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("相比前一代树莓派，4B 的最大内存增加到了 8G，性能也有了不少的提升。接口方面，供电使用了 USB type-c 供电，视频输出从 HDMI 变为了两个 micro HDMI 接口，所以如果需要外接显示器，还是需要一个 micro HDMI 的转接线的。")]),s._v(" "),a("h2",{attrs:{id:"准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[s._v("#")]),s._v(" 准备工作")]),s._v(" "),a("ul",[a("li",[s._v("SD 卡，用于烧录系统")]),s._v(" "),a("li",[s._v("micro HDMI 转接线 (第一次安装最好还是接上显示器，可以方便调试问题)")]),s._v(" "),a("li",[s._v("电源")])]),s._v(" "),a("h2",{attrs:{id:"烧录系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#烧录系统"}},[s._v("#")]),s._v(" 烧录系统")]),s._v(" "),a("h3",{attrs:{id:"下载官方烧录工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载官方烧录工具"}},[s._v("#")]),s._v(" 下载"),a("a",{attrs:{href:"https://www.raspberrypi.org/downloads/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方"),a("OutboundLink")],1),s._v("烧录工具")]),s._v(" "),a("p",[a("img",{attrs:{src:"/raspberry/imager.png",alt:""}}),s._v("\n选择合适的操作系统")]),s._v(" "),a("h3",{attrs:{id:"安装烧录工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装烧录工具"}},[s._v("#")]),s._v(" 安装烧录工具")]),s._v(" "),a("h4",{attrs:{id:"选择操作系统和-sd-卡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#选择操作系统和-sd-卡"}},[s._v("#")]),s._v(" 选择操作系统和 SD 卡")]),s._v(" "),a("p",[s._v("插入 SD 卡，选择需要的操作系统和目标 SD 卡。\n"),a("img",{attrs:{src:"/raspberry/imager-write.png",alt:""}})]),s._v(" "),a("ul",[a("li",[s._v("因为官方的系统目前没有 64 位的，我这里使用的 ubuntu20 系统")])]),s._v(" "),a("h4",{attrs:{id:"开始烧录系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开始烧录系统"}},[s._v("#")]),s._v(" 开始烧录系统")]),s._v(" "),a("p",[s._v("点击 write，开始烧录系统\n"),a("img",{attrs:{src:"/raspberry/imager-writing.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"配置-ssh-和-wifi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-ssh-和-wifi"}},[s._v("#")]),s._v(" 配置 ssh 和 wifi")]),s._v(" "),a("p",[s._v("由于 ubuntu 官方镜像已经为我们配置了 ssh，所以我们只需要配置 wifi 即可。")]),s._v(" "),a("blockquote",[a("p",[s._v("也可以参考"),a("a",{attrs:{href:"https://ubuntu.com/tutorials/how-to-install-ubuntu-on-your-raspberry-pi#1-overview",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方教程"),a("OutboundLink")],1)])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("在配置 wifi 之前，请确保你的 wifi 没有设置隐藏，否则树莓派可能无法自动连接")])]),a("h3",{attrs:{id:"修改-network-config-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改-network-config-文件"}},[s._v("#")]),s._v(" 修改 "),a("code",[s._v("network-config")]),s._v(" 文件")]),s._v(" "),a("p",[s._v("在烧录完系统之后，SD 卡默认会弹出，重新插回电脑，进行 wifi 的配置。")]),s._v(" "),a("p",[s._v("打开 "),a("code",[s._v("network-config")]),s._v(" 文件，文件应该类似这个样子。")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Some additional examples are commented out below")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ethernets")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("eth0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dhcp4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("optional")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#wifis:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  wlan0:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    dhcp4: true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    optional: true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#    access-points:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      myhomewifi:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#        password: "S3kr1t"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      myworkwifi:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#        password: "correct battery horse staple"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      workssid:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        auth:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          key-management: eap")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          method: peap")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#          identity: "me@example.com"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#          password: "passw0rd"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          ca-certificate: /etc/my_ca.pem")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h4",{attrs:{id:"去掉-wifis-部分的注释-在-access-points-下加上自己的-wifi-名称和密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#去掉-wifis-部分的注释-在-access-points-下加上自己的-wifi-名称和密码"}},[s._v("#")]),s._v(" 去掉 wifis 部分的注释，在 access-points 下加上自己的 wifi 名称和密码")]),s._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Some additional examples are commented out below")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ethernets")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("eth0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dhcp4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("optional")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("wifis")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("wlan0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dhcp4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("optional")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("access-points")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("wifiName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"your wifi password"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      myworkwifi:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#        password: "correct battery horse staple"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#      workssid:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#        auth:")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          key-management: eap")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          method: peap")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#          identity: "me@example.com"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#          password: "passw0rd"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#          ca-certificate: /etc/my_ca.pem")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("修改完的文件应该类似这样")]),s._v(" "),a("h4",{attrs:{id:"将-sd-卡插入树莓派-接通电源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将-sd-卡插入树莓派-接通电源"}},[s._v("#")]),s._v(" 将 SD 卡插入树莓派，接通电源")]),s._v(" "),a("ul",[a("li",[s._v("等待 2 分钟左右，让系统启动。")]),s._v(" "),a("li",[s._v("打开路由器，查找是否有名为 Ubuntu 的设备连接上路由器。")]),s._v(" "),a("li",[s._v("一般情况，这个时候是看不到设备的。如果你连接了显示器，直接重启设备即可。")]),s._v(" "),a("li",[s._v("如果没有连接显示器，关掉电源，重新打开，等待 1-2 分钟系统启动，就可以在路由器中看到设备了。")])]),s._v(" "),a("h3",{attrs:{id:"修改默认-ssh-密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改默认-ssh-密码"}},[s._v("#")]),s._v(" 修改默认 ssh 密码")]),s._v(" "),a("p",[s._v("ubuntu 默认用户名和密码都是 ubuntu，第一次 ssh 连接，会提示修改密码。修改成功后，连接会断开，再使用新密码登陆即可。\n"),a("img",{attrs:{src:"/raspberry/ssh.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"系统配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#系统配置"}},[s._v("#")]),s._v(" 系统配置")]),s._v(" "),a("h3",{attrs:{id:"创建账户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建账户"}},[s._v("#")]),s._v(" 创建账户")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" adduser username\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("赋予用户 sudo 权限")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/sudoers\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"禁用-root-和默认-ubuntu-用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#禁用-root-和默认-ubuntu-用户"}},[s._v("#")]),s._v(" 禁用 root 和默认 ubuntu 用户")]),s._v(" "),a("p",[s._v("使用新用户登陆")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" -l root\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" -l ubuntu\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"替换-apt-国内镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#替换-apt-国内镜像"}},[s._v("#")]),s._v(" 替换 apt 国内镜像")]),s._v(" "),a("p",[s._v("这里使用"),a("a",{attrs:{href:"https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[s._v("清华大学的镜像"),a("OutboundLink")],1),s._v("\n因为树莓派的 CPU 的架构是 arm 的，所以需要稍微改一下路径(改为 ubuntu-ports 的镜像)")]),s._v(" "),a("blockquote",[a("p",[s._v("配置文件在 "),a("code",[s._v("/etc/apt/sources.list")])])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal main restricted universe multiverse\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal-updates main restricted universe multiverse\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal-backports main restricted universe multiverse\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse")]),s._v("\ndeb https://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/ focal-security main restricted universe multiverse\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 预发布软件源，不建议启用")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-proposed main restricted universe multiverse")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("运行 "),a("code",[s._v("sudo apt-get update")]),s._v(" 更新镜像。")]),s._v(" "),a("h2",{attrs:{id:"常用软件安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用软件安装"}},[s._v("#")]),s._v(" 常用软件安装")]),s._v(" "),a("h3",{attrs:{id:"安装-zsh-和-oh-my-zsh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-zsh-和-oh-my-zsh"}},[s._v("#")]),s._v(" 安装 zsh 和 oh-my-zsh")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("zsh")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" -c "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("由于国内网络情况，直接访问 "),a("code",[s._v("raw.github.com")]),s._v(" 是无法访问的，配置一下 hosts。\n下面的仅供参考")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("151.101.108.133 raw.github.com\n199.232.68.133 raw.githubusercontent.com\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),a("p",[s._v("更改默认 shell 为 zsh\n"),a("code",[s._v("chsh -s /bin/zsh")])]),s._v(" "),a("h3",{attrs:{id:"安装-the-silver-searcher"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-the-silver-searcher"}},[s._v("#")]),s._v(" 安装 "),a("a",{attrs:{href:"https://github.com/ggreer/the_silver_searcher",target:"_blank",rel:"noopener noreferrer"}},[s._v("the_silver_searcher"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" silversearcher-ag\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"安装-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker"}},[s._v("#")]),s._v(" 安装 docker")]),s._v(" "),a("p",[s._v("这里通过官方脚本进行安装")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -fsSL https://get.docker.com -o get-docker.sh\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" get-docker.sh\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 添加用户到 docker group")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -aG docker your-user\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("这个时候直接运行 "),a("code",[s._v("docker run hello-world")]),s._v(" 会提示 permission denid, 需要退出一下，重新登陆就可以正常运行了。")]),s._v(" "),a("h3",{attrs:{id:"安装-docker-compose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker-compose"}},[s._v("#")]),s._v(" 安装 docker-compose")]),s._v(" "),a("p",[s._v("由于 docker 官方没有提供 arm 架构的 docker-compose，所以需要使用 pip 的方式来安装。")]),s._v(" "),a("p",[s._v("ubuntu 默认应该已经安装了 python3，可以通过直接运行 python3 来查看当前的 python 版本。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("$ python3\nPython "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.8")]),s._v(".2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default, Jul "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":00:26"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GCC "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.3")]),s._v(".0"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" on linux\nType "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"help"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"copyright"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"credits"')]),s._v(" or "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"license"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v(" information.\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"安装-pip3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-pip3"}},[s._v("#")]),s._v(" 安装 pip3")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[s._v("由于 python 版本的问题，如果使用的是 python3，一定要使用 pip3 而不是 pip")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" python3-pip\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"安装-docker-compose-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-docker-compose-2"}},[s._v("#")]),s._v(" 安装 docker-compose")]),s._v(" "),a("p",[s._v("在安装 docker-compose 之前，需要先安装一下 "),a("code",[s._v("libffi-dev")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" libffi-dev\npip3 "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-compose\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("docker-compose 安装完成之后，默认是不在 PAHT 中的，需要添加到 PATH 中。")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("WARNING: The script docker-compose is installed "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/home/your user name/.local/bin'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" is not on "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[s._v("#")]),s._v(" 常见问题")]),s._v(" "),a("h3",{attrs:{id:"could-not-get-lock"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#could-not-get-lock"}},[s._v("#")]),s._v(" Could not get lock")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("E: Could not get lock /var/lib/dpkg/lock-frontend. It is held by process 2191 (unattended-upgr)\nN: Be aware that removing the lock file is not a solution and may break your system.\nE: Unable to acquire the dpkg frontend lock (/var/lib/dpkg/lock-frontend), is another process using it?\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("删除 lock 文件")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /var/lib/dpkg/lock\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /var/cache/apt/archives/lock\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);